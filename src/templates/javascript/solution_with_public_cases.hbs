const assert = require('assert');

{{{user_code}}}

// Public test cases
const publicTestCases = {{{json public_test_cases}}};

// Test execution function
function executeTests() {
    const results = {
        total: publicTestCases.length,
        passed: 0,
        failed: 0,
        errors: 0,
        details: []
    };
    
    publicTestCases.forEach((testCase, index) => {
        const testResult = {
            index: index + 1,
            description: testCase.description || `Test case ${index + 1}`,
            status: 'failed',
            expected: testCase.output, // Use 'output' field from JSON
            actual: null,
            error: null
        };
        
        try {
            // Handle the input structure - extract values from the input object
            const inputValues = Object.values(testCase.input);
            const result = {{function_name}}(...inputValues);
            testResult.actual = result;
            
            // Use assert.deepStrictEqual for proper object comparison
            assert.deepStrictEqual(result, testCase.output);
            
            testResult.status = 'passed';
            results.passed++;
        } catch (error) {
            if (error.name === 'AssertionError') {
                testResult.status = 'failed';
                testResult.error = `Expected: ${JSON.stringify(testCase.output)}, Got: ${JSON.stringify(testResult.actual)}`;
                results.failed++;
            } else {
                testResult.status = 'error';
                testResult.error = error.message;
                results.errors++;
            }
        }
        
        results.details.push(testResult);
    });
    
    return results;
}

// Execute and return results
const testResults = executeTests();
console.log(JSON.stringify(testResults, null, 2));

// Export for external use
if (typeof module !== 'undefined' && module.exports) {
    module.exports = { {{function_name}}, executeTests, testResults };
}